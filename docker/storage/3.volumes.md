### Ref: https://docs.docker.com/storage/volumes/

- preferred way to persist data in Docker containers and services.
- volumes are stored in a part of the host filesystem managed by docker. Non-docker processes should not modify it.

    # e.g. on Linux
    /var/lib/docker/volumes/

- On Windows and MacOS volumes are stored in the Linux VM.

### Create

- can be created with

    $ docker volume create

- can also be created during container or service creation.


### Mounting

- a given volume may be mounted into multiple containers simultaneously.
- when no running container is using the volume it's not automatically removed.
- when mounting, volume may be named or anynomous. Anonymous volumes are still given a random unique name in the host.
- like named volumes, anonymous volumes persist when the container they're mounted to is removed, unless the `--rm` flag is used when creating the container.

### Remove

- volumes are only removed when you explicitly remove them (or create the container with `--rm`).
- remove unused volumes

    $ docker volume prune

- docker automatically removes anonymous volume mounts for containers created with the `--rm` flag.

### Volume drivers

- allow to store data on remote hosts or cloud provider.

### Some good use cases
- when sharing data among multiple running containers.
- when the host is not guaranteed to have a given file structure.
- when storing container's data on a remote host or cloud provider.
- to back-up, restore, or migrate data from one host to another, volumes are a better choice. Stop the container using the volume, then back up the volume's directory (e.g. `/var/lib/docker/volumes/<volume-name>`.

### Tips
- if you mount an empty volume into a directory in the container in which files or directories exist, these files or directories are propagated (i.e. copied) into the volume.
- if you start a container and specify a volume which does not already exist, and empty volume is created for you. This can be a good way to pre-populate data that another container needs.
- if you mount a bind mount or non-empty volume into a directory in the container in which some files or directories exist, these files or directories are obscured by the mount, just as if you saved the files into `/mnt` on a Linux host and then mounted a USB drive into `/mnt`. The contents of `/mnt` would be obscured by the contents of the USB drive until it's unmounted. The obscured files are not removed or altered, but are not accessible while the bind mount or volume is mounted.
